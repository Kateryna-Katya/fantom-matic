{"version":3,"file":"main-DaHlGlNF.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * FANTOM-MATIC — Core Engine 2025\n * Инновационная образовательная платформа\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================\n  // 1. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК\n  // ==========================================\n\n  // Иконки Lucide\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // Lenis Smooth Scroll (Плавный скролл)\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smoothWheel: true,\n      orientation: 'vertical',\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n\n  // ==========================================\n  // 2. МОБИЛЬНОЕ МЕНЮ (NAV & BURGER)\n  // ==========================================\n\n  const burger = document.getElementById('burger-menu');\n  const nav = document.getElementById('main-nav');\n  const body = document.body;\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  if (burger && nav) {\n      burger.addEventListener('click', () => {\n          const isActive = nav.classList.toggle('active');\n          burger.classList.toggle('active');\n\n          // Блокировка скролла при открытом меню\n          body.style.overflow = isActive ? 'hidden' : '';\n      });\n\n      // Закрытие при клике на ссылки (якоря)\n      navLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              nav.classList.remove('active');\n              burger.classList.remove('active');\n              body.style.overflow = '';\n          });\n      });\n  }\n\n\n  // ==========================================\n  // 3. HERO: СМЕНА СЛОВ В ЗАГОЛОВКЕ\n  // ==========================================\n\n  const wordSwitcher = document.getElementById('changing-word');\n  if (wordSwitcher) {\n      const words = [\"будущее\", \"инновации\", \"карьеру\", \"проекты\"];\n      let wordIndex = 0;\n\n      setInterval(() => {\n          wordSwitcher.style.opacity = '0';\n          wordSwitcher.style.transform = 'translateY(15px)';\n\n          setTimeout(() => {\n              wordIndex = (wordIndex + 1) % words.length;\n              wordSwitcher.textContent = words[wordIndex];\n\n              wordSwitcher.style.opacity = '1';\n              wordSwitcher.style.transform = 'translateY(0)';\n          }, 500);\n      }, 3500);\n  }\n\n\n  // ==========================================\n  // 4. КОНТАКТНАЯ ФОРМА (ФРАНЦИЯ 2025)\n  // ==========================================\n\n  const contactForm = document.getElementById('contact-form');\n  const phoneInput = document.getElementById('phone-input');\n  const successMsg = document.getElementById('form-success');\n  const captchaLabel = document.getElementById('captcha-question');\n  const captchaInput = document.getElementById('captcha-answer');\n\n  // Математическая капча\n  let n1 = Math.floor(Math.random() * 10) + 1;\n  let n2 = Math.floor(Math.random() * 9) + 1;\n  let sum = n1 + n2;\n\n  if (captchaLabel) {\n      captchaLabel.textContent = `${n1} + ${n2}`;\n  }\n\n  // Валидация телефона (только цифры и +)\n  if (phoneInput) {\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/(?!^\\+)[^\\d]/g, '');\n      });\n  }\n\n  // Обработка отправки формы\n  if (contactForm) {\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (parseInt(captchaInput.value) !== sum) {\n              alert('Пожалуйста, решите математический пример правильно.');\n              return;\n          }\n\n          // Анимация отправки\n          const btn = contactForm.querySelector('button[type=\"submit\"]');\n          const originalText = btn.innerHTML;\n          btn.disabled = true;\n          btn.innerHTML = '<span class=\"loader-simple\">Отправка...</span>';\n\n          // Имитация задержки сети (Франция -> Сервер)\n          setTimeout(() => {\n              contactForm.style.transition = 'opacity 0.5s ease';\n              contactForm.style.opacity = '0';\n\n              setTimeout(() => {\n                  contactForm.style.display = 'none';\n                  successMsg.style.display = 'flex'; // Гарантированный показ\n\n                  // Перерисовка иконок в сообщении успеха\n                  if (window.lucide) lucide.createIcons();\n\n                  // Скролл к сообщению\n                  lenis.scrollTo('#contact', { offset: -100 });\n              }, 500);\n          }, 1800);\n      });\n  }\n\n\n  // ==========================================\n  // 5. COOKIE POPUP (GDPR READY)\n  // ==========================================\n\n  const initCookies = () => {\n      if (localStorage.getItem('fantom_matic_cookies')) return;\n\n      const popup = document.createElement('div');\n      popup.className = 'cookie-popup';\n      popup.innerHTML = `\n          <div class=\"cookie-popup__header\">\n              <div class=\"cookie-popup__icon\"><i data-lucide=\"shield-check\"></i></div>\n              <p>Мы используем cookies для работы платформы во Франции. <a href=\"./cookies.html\">Подробнее</a></p>\n          </div>\n          <div class=\"cookie-popup__actions\">\n              <button class=\"btn btn--primary\" id=\"c-accept\">Принять</button>\n              <button class=\"btn btn--ghost\" id=\"c-reject\">Отклонить</button>\n          </div>\n      `;\n\n      document.body.appendChild(popup);\n      if (window.lucide) lucide.createIcons();\n\n      // Появление\n      setTimeout(() => popup.classList.add('is-show'), 2500);\n\n      const closePopup = () => {\n          popup.classList.remove('is-show');\n          localStorage.setItem('fantom_matic_cookies', 'true');\n          setTimeout(() => popup.remove(), 700);\n      };\n\n      document.getElementById('c-accept').addEventListener('click', closePopup);\n      document.getElementById('c-reject').addEventListener('click', closePopup);\n  };\n\n  initCookies();\n\n\n  // ==========================================\n  // 6. SCROLL REVEAL (АНИМАЦИЯ ПОЯВЛЕНИЯ)\n  // ==========================================\n\n  const revealItems = document.querySelectorAll('.feature-card, .blog-card, .section-title, .about__image');\n\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('revealed');\n              revealObserver.unobserve(entry.target);\n          }\n      });\n  }, { threshold: 0.15 });\n\n  revealItems.forEach(item => {\n      item.style.opacity = '0';\n      item.style.transform = 'translateY(40px)';\n      item.style.transition = 'all 0.9s cubic-bezier(0.22, 1, 0.36, 1)';\n      revealObserver.observe(item);\n  });\n\n  // Динамический класс для анимации через observer\n  const style = document.createElement('style');\n  style.innerHTML = `\n      .revealed {\n          opacity: 1 !important;\n          transform: translateY(0) !important;\n      }\n  `;\n  document.head.appendChild(style);\n\n});"],"names":["lenis","t","raf","time","burger","nav","body","navLinks","isActive","link","wordSwitcher","words","wordIndex","contactForm","phoneInput","successMsg","captchaLabel","captchaInput","n1","n2","sum","btn","popup","closePopup","revealItems","revealObserver","entries","entry","item","style"],"mappings":"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"}