{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * FANTOM-MATIC.BLOG - JS Core\n * 2025 Edition\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. ИНИЦИАЛИЗАЦИЯ ВНЕШНИХ БИБЛИОТЕК ---\n\n  // Иконки Lucide\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // Плавный скролл Lenis\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smoothWheel: true\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n\n  // --- 2. МОБИЛЬНОЕ МЕНЮ (BURGER) ---\n\n  const burger = document.getElementById('burger-menu');\n  const nav = document.getElementById('main-nav');\n  const body = document.body;\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  if (burger && nav) {\n      burger.addEventListener('click', () => {\n          const isActive = nav.classList.toggle('active');\n          burger.classList.toggle('active');\n\n          // Блокируем скролл при открытом меню\n          body.style.overflow = isActive ? 'hidden' : '';\n      });\n\n      // Закрытие меню при клике на ссылку (для якорей)\n      navLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              nav.classList.remove('active');\n              burger.classList.remove('active');\n              body.style.overflow = '';\n          });\n      });\n  }\n\n\n  // --- 3. HERO: СМЕНА СЛОВ В ЗАГОЛОВКЕ ---\n\n  const wordSwitcher = document.getElementById('changing-word');\n  if (wordSwitcher) {\n      const words = [\"будущее\", \"инновации\", \"карьеру\", \"проекты\"];\n      let wordIndex = 0;\n\n      setInterval(() => {\n          // Плавное исчезновение\n          wordSwitcher.style.opacity = '0';\n          wordSwitcher.style.transform = 'translateY(10px)';\n\n          setTimeout(() => {\n              wordIndex = (wordIndex + 1) % words.length;\n              wordSwitcher.textContent = words[wordIndex];\n\n              // Плавное появление\n              wordSwitcher.style.opacity = '1';\n              wordSwitcher.style.transform = 'translateY(0)';\n          }, 500); // Половина времени перехода\n      }, 3000);\n  }\n\n\n  // --- 4. КОНТАКТНАЯ ФОРМА: ВАЛИДАЦИЯ И КАПЧА ---\n\n  const contactForm = document.getElementById('contact-form');\n  const phoneInput = document.getElementById('phone-input');\n  const successMsg = document.getElementById('form-success');\n  const captchaQuestion = document.getElementById('captcha-question');\n  const captchaAnswerInput = document.getElementById('captcha-answer');\n\n  // Генерация капчи (Франция, 2025)\n  let num1 = Math.floor(Math.random() * 10) + 1;\n  let num2 = Math.floor(Math.random() * 5) + 1;\n  let correctSum = num1 + num2;\n\n  if (captchaQuestion) {\n      captchaQuestion.textContent = `${num1} + ${num2}`;\n  }\n\n  // Валидация телефона (только цифры и плюс в начале)\n  if (phoneInput) {\n      phoneInput.addEventListener('input', (e) => {\n          let value = e.target.value;\n          // Разрешаем + только в начале, остальное только цифры\n          e.target.value = value.replace(/(?!^\\+)[^\\d]/g, '');\n      });\n  }\n\n  // Обработка отправки\n  if (contactForm) {\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (parseInt(captchaAnswerInput.value) !== correctSum) {\n              alert('Пожалуйста, решите математический пример правильно.');\n              return;\n          }\n\n          // Имитация отправки (AJAX)\n          const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n          const originalBtnText = submitBtn.innerHTML;\n\n          submitBtn.disabled = true;\n          submitBtn.innerHTML = 'Отправка...';\n\n          setTimeout(() => {\n              // Скрываем форму и показываем успех\n              contactForm.style.display = 'none';\n              successMsg.style.display = 'flex';\n\n              // Плавная прокрутка к сообщению об успехе\n              lenis.scrollTo('#contact', { offset: -50 });\n\n              console.log('Форма успешно отправлена (симуляция)');\n          }, 1500);\n      });\n  }\n\n\n  // --- 5. COOKIE POPUP ---\n\n  const createCookiePopup = () => {\n      if (localStorage.getItem('cookies-accepted')) return;\n\n      const popup = document.createElement('div');\n      popup.className = 'cookie-popup';\n      popup.innerHTML = `\n          <div class=\"cookie-popup__content\">\n              <p>Этот сайт использует cookies для улучшения работы. Подробнее — в нашей <a href=\"cookies.html\">Cookie политике</a>.</p>\n              <button class=\"btn btn--primary\" id=\"accept-cookies\">Принять</button>\n          </div>\n      `;\n      body.appendChild(popup);\n\n      document.getElementById('accept-cookies').addEventListener('click', () => {\n          localStorage.setItem('cookies-accepted', 'true');\n          popup.classList.add('cookie-popup--hidden');\n          setTimeout(() => popup.remove(), 500);\n      });\n  };\n\n  // Показываем куки через 2 секунды после загрузки\n  setTimeout(createCookiePopup, 2000);\n\n\n  // --- 6. ЭФФЕКТ ПОЯВЛЕНИЯ ПРИ СКРОЛЛЕ (REVEAL) ---\n\n  const observerOptions = {\n      threshold: 0.15\n  };\n\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('is-revealed');\n              revealObserver.unobserve(entry.target);\n          }\n      });\n  }, observerOptions);\n\n  // Элементы для анимации (заголовки, карточки)\n  const elementsToReveal = document.querySelectorAll('.feature-card, .blog-card, .section-title, .about__image');\n  elementsToReveal.forEach(el => {\n      el.classList.add('reveal-init');\n      revealObserver.observe(el);\n  });\n});"],"names":["lenis","t","raf","time","burger","nav","body","navLinks","isActive","link","wordSwitcher","words","wordIndex","contactForm","phoneInput","successMsg","captchaQuestion","captchaAnswerInput","num1","num2","correctSum","value","submitBtn","popup","observerOptions","revealObserver","entries","entry","el"],"mappings":"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"}